название базы даных
dekanat

create table Faculty (name_faculty text primary key);

create table Groupp(
id_groupp serial primary key,
faculty_name text references Faculty(name_faculty) on delete cascade on update cascade,
groupp_name character varying(50),
major text,
department text);

create table Student(
id_student serial primary key,
fio character varying(30),
grade_book_number text,
adress text,
scholarship int,
groupp_id int references Groupp(id_groupp) on delete cascade on update cascade);

create table Subject(
id_subject serial primary key,
unique_id_subject int, !!!!!!
name_subject text,
season character varying(10),
report character varying(10),
groupp_id int references Groupp(id_groupp) on delete cascade on update cascade);

create table Academic_Performance(
id_academic_performance serial primary key,
subject_id int,
student_id int references Student(id_student) on delete cascade on update cascade,
groupp_id int references Groupp(id_groupp) on delete cascade on update cascade,
mark smallint);



insert into Faculty (name_faculty) values ('Факультет управления и экономики'),
('Факультет транспортного строительства и подвижного состава'),
('Факультет базовой подготовки'),
('Факультет заочного и электронного обучения'),
('Факультет электротехнический');


ф управления и экономики
-
ф транспортного строительства и подвижного состава заполнен
- Тяговый подвижной состав
- Вагонное хозяйство и наземные транспортные комплексы
- Жд путь и строительство
ф базовой подготовки заполнен
- Высшая математика
- Лингвистика
- Теология
- Философия и история науки
- Физвоспитание и спорт
- Безопасность жизнедеятельности и экология
ф заочного и электронного обучения
- 
ф электротехнический заполнен
- Автоматика телемеханика и связь на жд транспорте
- Электроснабжение жд транспорта
- Естественные науки
- Электротехника
- Цифровые технологии

Далеко не у всех кафедр есть направление

 '',
('Факультет электротехнический', '', '', ''),

insert into Groupp (faculty_name, groupp_name, major, department)
values ('Факультет транспортного строительства и подвижного состава', 'тпс1', '23.05.03 Подвижной состав железных дорог', 'Тяговый подвижной состав'),
('Факультет транспортного строительства и подвижного состава', 'тпс2', '13.03.02 Электроэнергетика и электротехника', 'Тяговый подвижной состав'),
('Факультет транспортного строительства и подвижного состава', 'вхинтк1', '23.05.01 Наземные транспортно-технологические средства', 'Вагонное хозяйство и наземные транспортные комплексы'),
('Факультет транспортного строительства и подвижного состава', 'вхинтк2', '23.05.03 Подвижной состав железных дорог', 'Вагонное хозяйство и наземные транспортные комплексы'),
('Факультет транспортного строительства и подвижного состава', 'ждпис1', '99.99.1 направление жд путя', 'Жд путь и строительство'),
('Факультет транспортного строительства и подвижного состава', 'ждпис2', '99.99.2 направление строительства', 'Жд путь и строительство'),
('Факультет базовой подготовки', 'вм1', '99.99.3 направление высшей математики', 'Высшая математика'),
('Факультет базовой подготовки', 'вм2', '99.99.4 направление высшей математики', 'Высшая математика'),
('Факультет базовой подготовки', 'л1', '99.99.5 направление лингвистики', 'Лингвистика'),
('Факультет базовой подготовки', 'л2', '99.99.5 направление лингвистики', 'Лингвистика'),
('Факультет базовой подготовки', 'т1', '99.99.6 направление теологии', 'Теология'),
('Факультет базовой подготовки', 'т2', '99.99.7 направление теологии', 'Теология'),
('Факультет базовой подготовки', 'фиин1', '99.99.8 направление философии', 'Философия и история науки'),
('Факультет базовой подготовки', 'фиин1', '99.99.9 направление философии', 'Философия и история науки'),
('Факультет базовой подготовки', 'фис1', '99.99.10 направление физвоспитания', 'Физвоспитание и спорт'),
('Факультет базовой подготовки', 'фис2', '99.99.11 направление физвоспитания', 'Физвоспитание и спорт'),
('Факультет базовой подготовки', 'бжиэ1', '99.99.12 направление безопасность жизнедеятельсности', 'Безопасность жизнедеятельности и экология'),
('Факультет базовой подготовки', 'бжиэ2', '99.99.13 направление безопасность жизнедеятельности', 'Безопасность жизнедеятельности и экология'),
('Факультет электротехнический', 'сим1', '27.03.01 Стандартизация и метрология', 'Автоматика телемеханика и связь на жд транспорте'),
('Факультет электротехнический', 'иивт1', '09.03.01 Информатика и вычислительная техника', 'Автоматика телемеханика и связь на жд транспорте'),
('Факультет электротехнический', 'эждт1', '99.99.14 направление электроснабжения', 'Электроснабжение жд транспорта'),
('Факультет электротехнический', 'эждт2', '99.99.15 направление электроснабжения', 'Электроснабжение жд транспорта'),
('Факультет электротехнический', 'содп1', '23.05.05 Системы обеспечения движения поездов', 'Естественные науки'),
('Факультет электротехнический', 'исит1', '09.04.02 Информатика системы и технологии', 'Естественные науки'),
('Факультет электротехнический', 'иивч1', '09.04.01 Информатика и вычислительная техника', 'Электротехника'),
('Факультет электротехнический', 'исит2', '09.03.02 Информационные системы и технологии', 'Электротехника'),
('Факультет электротехнический', 'пи1', '09.03.03 Прикладная информатика', 'Цифровые технологии'),
('Факультет электротехнический', 'исит3', '09.03.02 Информационные системы и технологии', 'Цифровые технологии');

, ''
('Факультет электротехнический', '', '', ''),

insert into Student (fio, grade_book_number, adress, scholarship, groupp_id)
values ('Михайлова Анастасия Юрьевна', 'А1001', 'ул Гагарина', 3000, 29),
('Кузнецов Дмитрий Александрович', 'А1002', 'ул Победы', 3050, 29),
('Мед Артём Дмитриевич', 'А1003', 'ул Авроры', 3100, 29),
('Зайдулин Нияз Артёмович', 'А1004', 'ул Горького', 2900, 30),
('Некрасов Захар Николаевич', 'А1005', 'ул Механическая', 2800, 31),
('Овод Александр Андреевич', 'А1006', 'ул Кирова', 2850, 31),
('Проскурин Дмитрий Никитович', 'А1007', 'ул Ленина', 2950, 31),
('Бобков Андрей Алексеевич', 'А1008', 'ул Электрическая', 0, 32),
('Кекин Николай Даниилович', 'А1009', 'ул Карла-Маркса', 3050, 32),
('Горобец Руслан Филиппович', 'А1010', 'ул Мориса-Торэза', 3100, 32),
('Зорин Даниил Тихонович', 'А1011', 'ул Дыбенко', 3100, 32),
('Караваев Дмитрий Степанович', 'А1012', 'ул Котов', 3000, 33),
('Михеев Алексей Олегович', 'А1013', 'ул Собак', 2950, 34),
('Тихомиров Егор Павлович', 'А1014', 'ул Попугаев', 2900, 34),
('Яхимович Владислав Максимович', 'А1015', 'ул Игуан', 2000, 35),
('Купасёв Артём Леонидович', 'А1016', 'ул Крыс', 1850, 35),
('Симоненко Никита Иоаннович', 'А1017', 'ул Мышей', 1700, 35),
('Хайдаров Хамиджон Иванович', 'А1018', 'ул Улиток', 4000, 35),
('Горшков Кирилл Исаевич', 'А1019', 'ул Змей', 4100, 35),
('Азамкулов Рамазон Иларионович', 'А1020', 'ул Промышленности', 4150, 35),
('Наурзалиева Виолетта Игоревна', 'А1021', 'ул Крабов', 4150, 36),
('Кудряшов Никита Игнатьевич', 'А1022', 'ул Морских коньков', 3450, 36),
('Мочков Дмитрий Захарович', 'А1023', 'ул Рыбы Фугу', 3500, 37),
('Морозов Алексей Ефремович', 'А1024', 'ул Фениксов', 3000, 38),
('Габдуалиев Акбар Ефимович', 'А1025', 'ул Кенгуру', 2900, 38),
('Тушкевич Максим Егорович', 'А1026', 'ул Белой акулы', 2950, 38),
('Кривов Дмитрий Александрович', 'А1027', 'ул Акулы-Молот', 3000, 38);


insert into Subject (name_subject, unique_id_subject, season, report, groupp_id) values
('Надёжность инф систем', 1, 'Весенняя', 'Зачёт', 29),
('Надёжность инф систем', 1,  'Весенняя', 'Зачёт', 33),
('Надёжность инф систем', 1, 'Зимняя', 'Зачёт', 38),
('Физра', 2, 'Весенняя', 'Зачёт', 35),
('Физра', 2, 'Весенняя', 'Зачёт', 29),
('Физра', 2, 'Зимняя', 'Зачёт', 30),
('Физра', 2, 'Зимняя', 'Зачёт', 31),
('Физра', 2, 'Зимняя', 'Зачёт', 31),
('Управление качеством', 3, 'Весенняя', 'Зачёт', 37),
('Управление качеством', 3, 'Зимняя', 'Зачёт', 36),
('Управление качеством', 3, 'Зимняя', 'Зачёт', 35),
('Управление качеством', 3, 'Зимняя', 'Зачёт', 34),
('Микропроцессоры', 4, 'Весенняя', 'Зачёт', 35),
('Микропроцессоры', 4, 'Зимняя', 'Зачёт', 37),
('Архитектура информационных систем', 5, 'Весенняя', 'Экзамен', 38),
('Архитектура информационных систем', 5, 'Весенняя', 'Экзамен', 38),
('Архитектура информационных систем', 5, 'Зимняя', 'Экзамен', 29),
('Архитектура информационных систем', 5, 'Зимняя', 'Экзамен', 29),
('Архитектура информационных систем', 5, 'Зимняя', 'Экзамен', 31),
('Большие данные', 6, 'Весенняя', 'Экзамен', 30),
('Большие данные', 6, 'Весенняя', 'Экзамен', 30),
('Большие данные', 6, 'Весенняя', 'Экзамен', 37),
('Большие данные', 6, 'Зимняя', 'Экзамен', 36),
('Технологии программирования', 7, 'Весенняя', 'Экзамен', 35),
('Технологии программирования', 7, 'Весенняя', 'Экзамен', 36),
('Технологии программирования', 7, 'Весенняя', 'Экзамен', 33),
('Технологии программирования', 7, 'Весенняя', 'Экзамен', 31),
('Технологии программирования', 7, 'Весенняя', 'Экзамен', 31),
('Технологии программирования', 7, 'Зимняя', 'Экзамен', 32);

('', , , ),

insert into Academic_performance (subject_id, student_id, groupp_id, mark) values
(1, 1, 29, 5),
(2, 2, 29, 2),
(3, 3, 29, 2),
(4, 4, 30, 5),
(5, 5, 31, 3),
(6, 6, 31, 3),
(7, 7, 31, 3),
(1, 8, 32, 5),
(2, 9, 32, 2),
(3, 10, 32, 2),
(4, 11, 32, 4),
(5, 12, 33, 4),
(6, 13, 34, 5),
(7, 14, 34, 5),
(1, 15, 35, 4),
(2, 16, 35, 2),
(3, 17, 35, 2),
(4, 18, 35, 5),
(5, 19, 35, 4),
(6, 20, 35, 2),
(7, 21, 36, 4),
(1, 22, 36, 2),
(2, 23, 37, 2),
(3, 24, 38, 5),
(4, 25, 38, 5),
(5, 26, 38, 2),
(6, 27, 38, 2);


Средний балл студентов по каждой группе указанного факультета.
1 Средний балл по каждому предмету.
2 Группа с максимальным средним баллом по заданному предмету.
3 Список по факультетам студентов, подлежащих отчислению (не сдано более двух 
предметов).
4 По какому предмету больше всего неудовлетворительных оценок.

1.1 список имён предметов <- select distinct name_subject from Subject;
1.2 средний бал <- select avg(mark) as average_mark from Academic_Performance where subject_id = (select distinct unique_id_subject from Subject where name_subject = ''); ВСТАВИТЬ

2.1 айди предмета по его имени <- select distinct unique_id_subject from Subject where name_subject = ''; ВСТАВИТЬ
2.2 список айди груп <- select id_groupp from Groupp;
2.3 select avg(mark) as average_mark from Academic_Performance where groupp_id = список айди груп[] and subject_id = айди предмета по его имени;

3.1 список имён факультетов <- select * from Faculty;
3.2 список айди студентов с двойками <- select student_id from Academic_performance where mark = 2;
проверь список на повторяющиеся элементы - они должны быть отчислены

4.1 select subject_id from Academic_Performance where mark = 2 group by subject_id order by count(*) desc limit 1;
4.2 select subject_name where id_subject = ВСТАВИТЬ
Этот запрос группирует строки по subject_name, считает количество оценок, равных 2 (COUNT(*)), сортирует результаты в порядке убывания количества и выбирает только первую строку (LIMIT 1), представляющую предмет с максимальным количеством неудовлетворительных оценок.

Добавление студента
insert into Student (fio, grade_book_number, adress, scholarship, groupp_id) values
()
group_id 29-38
